!function(t){"use strict";function e(){this.$dom=t(document),this.$html=this.$dom.find("html"),this.isOldie=!!this.$html.hasClass("oldie"),this.click="click",this.onReady=this.onOldie=this.onTouch=!1,this.autoInit="false"===t("script[gumby-init]").attr("gumby-init")?!1:!0,this.debugMode=Boolean(t("script[gumby-debug]").length),this.touchDevice=!!(Modernizr.touch||window.navigator.userAgent.indexOf("Windows Phone")>0),this.gumbyTouch=!1,this.touchEvents="js/libs",this.breakpoint=Number(t("script[gumby-breakpoint]").attr("gumby-breakpoint"))||768,this.touchEventsLoaded=!1,this.uiModulesReady=!1,this.uiModules={},this.inits={};var e=t("script[gumby-touch]").attr("gumby-touch"),n=t("script[gumby-path]").attr("gumby-path");"false"===e?this.touchEvents=!1:e?this.touchEvents=e:n&&(this.touchEvents=n),this.touchDevice&&(this.click+=" tap"),this.touchDevice&&t(window).width()<this.breakpoint?(this.$html.addClass("gumby-touch"),this.gumbyTouch=!0):this.$html.addClass("gumby-no-touch"),this.debugMode&&this.debug("Gumby is in debug mode")}e.prototype.init=function(t){var e=this,n=t?t:{};return this.$dom.ready(function(){n.debug&&(e.debugMode=!0),e.debug("Initializing Gumby");var t=n.uiModules?n.uiModules:!1;e.initUIModules(t),e.onReady&&e.onReady(),e.isOldie&&e.onOldie&&e.onOldie(),Modernizr.touch&&e.onTouch&&e.onTouch()}),this},e.prototype.helpers=function(){this.onReady&&this.onReady(),this.isOldie&&this.onOldie&&this.onOldie(),Modernizr.touch&&this.onTouch&&this.onTouch()},e.prototype.ready=function(t){return t&&"function"==typeof t&&(this.onReady=t),this},e.prototype.oldie=function(t){return t&&"function"==typeof t&&(this.onOldie=t),this},e.prototype.touch=function(t){return t&&"function"==typeof t&&(this.onTouch=t),this},e.prototype.console=function(t,e){this.debugMode&&window.console&&console[console[t]?t:"log"](e.length>1?Array.prototype.slice.call(e):e[0])},e.prototype.log=function(){this.console("log",arguments)},e.prototype.debug=function(){this.console("debug",arguments)},e.prototype.warn=function(){this.console("warn",arguments)},e.prototype.error=function(){this.console("error",arguments)},e.prototype.dump=function(){return{$dom:this.$dom,isOldie:this.isOldie,touchEvents:this.touchEvents,debugMode:this.debugMode,autoInit:this.autoInit,uiModules:this.uiModules,click:this.click}},e.prototype.selectAttr=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t],n="data-"+arguments[t],i="gumby-"+arguments[t];if(this.is("["+n+"]"))return this.attr(n)?this.attr(n):!0;if(this.is("["+i+"]"))return this.attr(i)?this.attr(i):!0;if(this.is("["+e+"]"))return this.attr(e)?this.attr(e):!0}return!1},e.prototype.addInitalisation=function(t,e){this.inits[t]=e},e.prototype.initialize=function(t,e){if("object"==typeof t){var n=0;for(n;n<t.length;n++)this.inits[t[n]]&&"function"==typeof this.inits[t[n]]?this.inits[t[n]](e):this.error("Error initializing module: "+t[n])}else this.inits[t]&&"function"==typeof this.inits[t]?this.inits[t](e):this.error("Error initializing module: "+t);return this},e.prototype.UIModule=function(t){var e=t.module;this.uiModules[e]=t},e.prototype.initUIModules=function(t){var e,n,i=this.uiModules;t&&(i=t);for(e in i)n=t?i[e]:e,this.uiModules[n].init()},window.Gumby=new e}(jQuery),!function(t){"use strict";function e(e){Gumby.debug("Initializing Fixed Position",e),this.$el=e,this.$window=t(window),this.fixedPoint="",this.pinPoint=!1,this.fixedPointjQ=!1,this.pinPointjQ=!1,this.offset=0,this.pinOffset=0,this.top=0,this.constrainEl=!0,this.state=!1,this.measurements={left:0,width:0},this.setup();var n=this;this.$window.on("scroll load",function(){n.monitorScroll()}),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing Fixed Position",e),n.setup(),n.monitorScroll()})}e.prototype.setup=function(){var t=this;this.fixedPoint=this.parseAttrValue(Gumby.selectAttr.apply(this.$el,["fixed"])),this.pinPoint=Gumby.selectAttr.apply(this.$el,["pin"])||!1,this.offset=Number(Gumby.selectAttr.apply(this.$el,["offset"]))||0,this.pinOffset=Number(Gumby.selectAttr.apply(this.$el,["pinoffset"]))||0,this.top=Number(Gumby.selectAttr.apply(this.$el,["top"]))||0,this.constrainEl=Gumby.selectAttr.apply(this.$el,["constrain"])||!0,"false"===this.constrainEl&&(this.constrainEl=!1),this.$parent=this.$el.parents(".columns, .column, .row"),this.$parent=this.$parent.length?this.$parent.first():!1,this.parentRow=this.$parent?!!this.$parent.hasClass("row"):!1,this.pinPoint&&(this.pinPoint=this.parseAttrValue(this.pinPoint)),this.fixedPointjQ=this.fixedPoint instanceof jQuery,this.pinPointjQ=this.pinPoint instanceof jQuery,this.$parent&&this.constrainEl&&(this.measure(),this.$window.resize(function(){t.state&&(t.measure(),t.constrain())}))},e.prototype.monitorScroll=function(){var t=this.$window.scrollTop(),e=this.fixedPointjQ?this.fixedPoint.offset().top:this.fixedPoint,n=!1;this.pinPoint&&(n=this.pinPointjQ?this.pinPoint.offset().top:this.pinPoint),this.offset&&(e-=this.offset),this.pinOffset&&(n-=this.pinOffset),t>=e&&"fixed"!==this.state?(!n||n>t)&&this.fix():e>t&&"fixed"===this.state?this.unfix():n&&t>=n&&"pinned"!==this.state&&this.pin()},e.prototype.fix=function(){Gumby.debug("Element has been fixed",this.$el),Gumby.debug("Triggering onFixed event",this.$el),this.state="fixed",this.$el.css({top:this.top}).addClass("fixed").removeClass("unfixed pinned").trigger("gumby.onFixed"),this.$parent&&this.constrain()},e.prototype.unfix=function(){Gumby.debug("Element has been unfixed",this.$el),Gumby.debug("Triggering onUnfixed event",this.$el),this.state="unfixed",this.$el.addClass("unfixed").removeClass("fixed pinned").trigger("gumby.onUnfixed")},e.prototype.pin=function(){Gumby.debug("Element has been pinned",this.$el),Gumby.debug("Triggering onPinned event",this.$el),this.state="pinned",this.$el.css({top:this.$el.offset().top}).addClass("pinned fixed").removeClass("unfixed").trigger("gumby.onPinned")},e.prototype.constrain=function(){Gumby.debug("Constraining element",this.$el),this.$el.css({left:this.measurements.left,width:this.measurements.width})},e.prototype.measure=function(){var t;this.measurements.left=this.$parent.offset().left,this.measurements.width=this.$parent.width(),this.parentRow&&(t=Number(this.$parent.css("paddingLeft").replace(/px/,"")),t&&(this.measurements.left+=t))},e.prototype.parseAttrValue=function(e){if(t.isNumeric(e))return Number(e);if("top"===e)return this.$el.offset().top;var n=t(e);return n.length?n:(Gumby.error("Cannot find Fixed target: "+e),!1)},Gumby.addInitalisation("fixed",function(n){t("[data-fixed],[gumby-fixed],[fixed]").each(function(){var i=t(this);return i.data("isFixed")&&!n?!0:i.data("isFixed")&&n?(i.trigger("gumby.initialize"),!0):(i.data("isFixed",!0),new e(i),void 0)})}),Gumby.UIModule({module:"fixed",events:["initialize","onFixed","onUnfixed"],init:function(){Gumby.initialize("fixed")}})}(jQuery),!function(t){"use strict";function e(t){Gumby.debug("Initializing Navbar",t),this.$el=t,this.$dropDowns=this.$el.find("li:has(.dropdown)");var e=this,n=this.$el.attr("gumby-persist");"undefined"==typeof n&&"false"!==n&&this.$el.find("li:not(:has(.dropdown)) a").on(Gumby.click,function(){e.$el.find("ul").removeClass("active")}),this.$dropDowns.on(Gumby.click,this.toggleDropdown).on("swiperight",this.openLink),"#"!==this.$dropDowns.children("a").attr("href")&&this.$dropDowns.children("a").append('<i class="icon-popup"></i>').children("i").on(Gumby.click,this.openLink),this.$el.find("li:not(:has(.dropdown)) a[href]").on(Gumby.click,this.openLink)}Gumby.gumbyTouch&&(e.prototype.toggleDropdown=function(e){if(e.preventDefault(),t(this).parents(".dropdown")&&e.stopImmediatePropagation(),!t(e.target).is("i")){var n=t(this);n.hasClass("active")?n.removeClass("active"):n.addClass("active")}},e.prototype.openLink=function(e){e.preventDefault();var n,i=t(this),s=i;i.is("i")?s=i.parent("a"):i.is("li")&&(s=i.children("a")),n=s.attr("href"),"blank"==s.attr("target")?window.open(n):window.location=n},Gumby.addInitalisation("navbar",function(){t(".navbar").each(function(){var n=t(this);return n.data("isNavbar")?!0:(n.data("isNavbar",!0),new e(n),void 0)})}),Gumby.UIModule({module:"navbar",events:[],init:function(){Gumby.initialize("navbar")}}))}(jQuery),!function(t){"use strict";function e(e){Gumby.debug("Initializing Retina",e),this.$el=e,this.imageSrc=this.$el.attr("src"),this.retinaSrc=this.fetchRetinaImage(),this.$retinaImg=t(new Image);var n=this;return this.retinaSrc?(this.$retinaImg.attr("src",this.retinaSrc).load(function(){n.retinaImageLoaded()}).error(function(){Gumby.error("Couln't load retina image: "+n.retinaSrc)}),void 0):!1}e.prototype.fetchRetinaImage=function(){var t=this.imageSrc,e=this.imageSrc.search(/(\.|\/)(gif|jpe?g|png)$/i);return 0>e?!1:t.substr(0,e)+"@2x"+t.substr(e,t.length)},e.prototype.retinaImageLoaded=function(){Gumby.debug("Swapping image for retina version",this.$el),Gumby.debug("Triggering onRetina event",this.$el),this.$el.attr("src",this.$retinaImg.attr("src")).trigger("gumby.onRetina")},Gumby.addInitalisation("retina",function(){!window.devicePixelRatio||window.devicePixelRatio<=1||t("img[data-retina],img[gumby-retina],img[retina]").each(function(){var n=t(this);return n.data("isRetina")?!0:(n.data("isRetina",!0),new e(n),void 0)})}),Gumby.UIModule({module:"retina",events:["onRetina"],init:function(){Gumby.initialize("retina")}})}(jQuery),!function(t){"use strict";function e(t){Gumby.debug("Initializing Skiplink",t),this.$el=t,this.targetPos=0,this.duration=0,this.offset=!1,this.easing="",this.update=!1,this.setup();var e=this;this.$el.on(Gumby.click+" gumby.skip",function(t){t.preventDefault(),"skip"===t.namespace&&Gumby.debug("Skip event triggered",e.$el),e.update?e.calculateTarget(e.skipTo):e.skipTo()}).on("gumby.initialize",function(){Gumby.debug("Re-initializing Skiplink",e.$el),e.setup()})}e.prototype.setup=function(){this.duration=Number(Gumby.selectAttr.apply(this.$el,["duration"]))||200,this.offset=Gumby.selectAttr.apply(this.$el,["offset"])||!1,this.easing=Gumby.selectAttr.apply(this.$el,["easing"])||"swing",this.update=Gumby.selectAttr.apply(this.$el,["update"])?!0:!1,this.calculateTarget()},e.prototype.calculateTarget=function(e){var n,i=Gumby.selectAttr.apply(this.$el,["goto"]);if("top"==i)this.targetPos=0;else if(t.isNumeric(i))this.targetPos=Number(i);else{if(n=t(i),!n.length)return Gumby.error("Cannot find skiplink target: "+i),!1;this.targetPos=n.offset().top}e&&e.apply(this)},e.prototype.skipTo=function(){Gumby.debug("Skipping to target",this.$el);var e=this;t("html,body").animate({scrollTop:this.calculateOffset()},this.duration,this.easing).promise().done(function(){Gumby.debug("Triggering onComplete event",e.$el),e.$el.trigger("gumby.onComplete")})},e.prototype.calculateOffset=function(){if(!this.offset)return this.targetPos;var t=this.offset.substr(0,1),e=Number(this.offset.substr(1,this.offset.length));return"-"===t?this.targetPos-e:"+"===t?this.targetPos+e:void 0},Gumby.addInitalisation("skiplink",function(n){t(".skiplink > a, .skip").each(function(){var i=t(this);return i.data("isSkipLink")&&!n?!0:i.data("isSkipLink")&&n?(i.trigger("gumby.initialize"),!0):(i.data("isSkipLink",!0),new e(i),void 0)})}),Gumby.UIModule({module:"skiplink",events:["initialize","onComplete","skip"],init:function(){Gumby.initialize("skiplink")}})}(jQuery),!function(t){"use strict";function e(e){this.$el=t(e),this.targets=[],this.on="",this.className="",this.self=!1,this.$el.length&&(Gumby.debug("Initializing Toggle",e),this.init())}function n(e){this.$el=t(e),this.targets=[],this.on="",this.className="",this.self=!1,this.$el.length&&(Gumby.debug("Initializing Switch",e),this.init())}e.prototype.init=function(){var t=this;this.setup(),this.$el.on(this.on,function(e){e.preventDefault(),t.trigger(t.triggered)}).on("gumby.trigger",function(){Gumby.debug("Trigger event triggered",t.$el),t.trigger(t.triggered)}).on("gumby.initialize",function(){Gumby.debug("Re-initializing "+t.constructor,$el),t.setup()})},e.prototype.setup=function(){this.targets=this.parseTargets(),this.on=Gumby.selectAttr.apply(this.$el,["on"])||Gumby.click,this.className=Gumby.selectAttr.apply(this.$el,["classname"])||"active",this.self="false"===Gumby.selectAttr.apply(this.$el,["self"])},e.prototype.parseTargets=function(){var e=Gumby.selectAttr.apply(this.$el,["trigger"]),n=0,i=[];return e?(n=e.indexOf("|"),-1===n?this.checkTargets([e])?[t(e)]:!1:(i=e.split("|"),this.checkTargets(i)?i.length>1?[t(i[0]),t(i[1])]:[t(i[0])]:!1)):!1},e.prototype.checkTargets=function(e){var n=0;for(n;n<e.length;n++)if(e[n]&&!t(e[n]).length)return Gumby.error("Cannot find "+this.constructor.name+" target: "+e[n]),!1;return!0},e.prototype.triggered=function(){Gumby.debug("Triggering onTrigger event",this.$el),this.$el.trigger("gumby.onTrigger",[this.$el.hasClass(this.className)])},n.prototype=new e,n.prototype.constructor=n,e.prototype.trigger=function(t){Gumby.debug("Triggering Toggle",this.$el);var e;this.targets?1==this.targets.length?this.$el.add(this.targets[0]).toggleClass(this.className):this.targets.length>1&&(this.targets[0].hasClass(this.className)?(e=this.targets[0],this.self||(e=e.add(this.$el)),e.removeClass(this.className),this.targets[1].addClass(this.className)):(e=this.targets[0],this.self||(e=e.add(this.$el)),e.addClass(this.className),this.targets[1].removeClass(this.className))):this.$el.toggleClass(this.className),t&&"function"==typeof t&&t.apply(this)},n.prototype.trigger=function(t){Gumby.debug("Triggering Switch",this.$el);var e;this.targets?1==this.targets.length?(e=this.targets[0],this.self||(e=e.add(this.$el)),e.addClass(this.className)):this.targets.length>1&&(e=this.targets[0],this.self||(e=e.add(this.$el)),e.addClass(this.className),this.targets[1].removeClass(this.className)):this.$el.addClass(this.className),t&&"function"==typeof t&&t.apply(this)},Gumby.addInitalisation("toggles",function(n){t(".toggle").each(function(){var i=t(this);return i.data("isToggle")&&!n?!0:(i.data("isToggle")&&n&&i.trigger("gumby.initialize"),i.data("isToggle",!0),new e(i),void 0)})}),Gumby.addInitalisation("switches",function(e){t(".switch").each(function(){var i=t(this);return i.data("isSwitch")&&!e?!0:i.data("isSwitch")&&e?(i.trigger("gumby.initialize"),!0):(i.data("isSwitch",!0),new n(i),void 0)})}),Gumby.UIModule({module:"toggleswitch",events:["initialize","trigger","onTrigger"],init:function(){Gumby.initialize("switches"),Gumby.initialize("toggles")}})}(jQuery),!function(){"use strict";function t(t){Gumby.debug("Initializing Parallax",t),this.$el=t,this.$holder={},this.ratio=this.offset=0;var e=this;this.setup(),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing Parallax",e.$el),e.setup()}),this.setPosition(),this.$holder.scroll(function(){e.scroll()}),this.scroll()}Gumby.gumbyTouch||(t.prototype.setup=function(){this.$holder=Gumby.selectAttr.apply(this.$el,["holder"]),this.ratio=Number(Gumby.selectAttr.apply(this.$el,["parallax"]))||1,this.offset=Number(Gumby.selectAttr.apply(this.$el,["offset"]))||0,this.xPos=this.$el.css("backgroundPosition").split(" ")[0],this.xPos&&"0%"!==this.xPos||(this.xPos="50%"),this.startPos=(this.$el.offset().top-this.offset)*this.ratio,this.$holder&&(this.$holder=$(this.$holder)),this.$holder&&this.$holder.length?this.startPos-=this.$holder.offset().top:this.$holder=$(window)},t.prototype.scroll=function(){this.setPosition(this.startPos-this.$holder.scrollTop()*this.ratio)},t.prototype.setPosition=function(t){this.$el.css("backgroundPosition",this.xPos+" "+t+"px")},Gumby.addInitalisation("parallax",function(){$(".parallax").each(function(){var e=$(this);return e.data("isParallax")?!0:(e.data("isParallax",!0),new t(e),void 0)})}),Gumby.UIModule({module:"parallax",events:[],init:function(){Gumby.initialize("parallax")}}))}(),!function(t){"use strict";function e(t){Gumby.debug("Initializing InViewWatcher",t),this.$el=t;var e=this;this.setup(),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing InViewWatcher",e.$el),e.setup()})}e.prototype.setup=function(){Gumby.debug("Setting up instance of InViewWatcher",this.$el),this.targets=this.parseTargets();var t=Gumby.selectAttr.apply(this.$el,["classname"]);t?t.indexOf("|")>-1?(t=t.split("|"),this.classname=t[0],this.classnameBottom=t[1]||"",this.classnameTop=t[2]||t[1]||""):(this.classname=t,this.classnameBottom="",this.classnameTop=""):(this.classname="active",this.classnameBottom="",this.classnameTop="");var e=Gumby.selectAttr.apply(this.$el,["offset"]);e=0!=e?e.split("|"):0,this.offset=e[0]||0,this.offsetTop=e[1]||e[0]||0,this.offsetBottom=this.offset},e.prototype.parseTargets=function(){var e=Gumby.selectAttr.apply(this.$el,["target"]);if(!e)return!1;var n=e.split("|");return 1===n.length?t(n[0]):t(n.join(", "))};var n,i,s,r,a,o,u,l,c=t(window).height(),f=[];t(window).on("scroll",function(){for(n=t(this).scrollTop(),i=0;i<f.length&&(s=f[i],r=s.targets||s.$el,"none"!=s.$el.css("display"));i++){a=s.$el.offset().top,o=s.$el.height(),u=s.offsetTop,l=s.offsetBottom;var e=a>n-l+c,h=n>a+o-u;h||e?h&&!e?(r.hasClass(s.classname)&&r.removeClass(s.classname),r.hasClass(s.classnameBottom)&&r.removeClass(s.classnameBottom),r.hasClass(s.classnameTop)||(r.addClass(s.classnameTop),r.trigger("gumby.offtop"))):e&&!h&&(r.hasClass(s.classname)&&r.removeClass(s.classname),r.hasClass(s.classnameTop)&&r.removeClass(s.classnameTop),r.hasClass(s.classnameBottom)||(r.addClass(s.classnameBottom),r.trigger("gumby.offbottom"))):(r.hasClass(s.classnameTop)&&r.removeClass(s.classnameTop),r.hasClass(s.classnameBottom)&&r.removeClass(s.classnameBottom),r.hasClass(s.classname)||(r.addClass(s.classname),r.trigger("gumby.inview")))}}),t(window).on("resize",function(){c=t(this).height(),t(window).trigger("scroll")}),Gumby.addInitalisation("inview",function(n){t(".inview").each(function(){var i=t(this);return i.data("isInView")&&!n?!0:(i.data("isInView")&&n&&i.trigger("gumby.initialize"),i.data("isInView",!0),f.push(new e(i)),void 0)}),t(window).trigger("scroll")}),Gumby.UIModule({module:"inview",events:["initialize","trigger","onTrigger"],init:function(){Gumby.initialize("inview")}})}(jQuery),!function(){"use strict";function t(t){Gumby.debug("Initializing Responsive Images module",t),this.$el=t,this.type="",this.supports="",this.media="",this.def="",this.current="",this.setup();var e=this;$(window).on("load gumby.trigger "+(!this.media||"resize"),function(){e.fire()}),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing Responsive Images module",e.$el),e.setup(),e.fire()}),e.fire()}t.prototype.setup=function(){this.type=this.$el.is("img")?"img":"bg",this.supports=Gumby.selectAttr.apply(this.$el,["supports"])||!1,this.media=Gumby.selectAttr.apply(this.$el,["media"])||!1,this.def=Gumby.selectAttr.apply(this.$el,["default"])||!1,this.supports&&(this.supports=this.parseAttr(this.supports)),this.media&&(this.media=this.parseAttr(this.media)),this.checks={supports:function(t){return Modernizr[t]},media:function(t){return window.matchMedia(t).matches}}},t.prototype.fire=function(){var t=!1;return this.supports&&Modernizr&&(t=this.handleTests("supports",this.supports)),this.media&&window.matchMedia&&!t&&(t=this.handleTests("media",this.media)),!t&&this.def&&(t=this.def),t?(this.current!==t&&(this.current=t,this.insertImage(this.type,t)),void 0):!1},t.prototype.handleTests=function(t,e){var n=this,i=!1;return $(e).each(function(e,s){return n.check(t,s.test)?(i=s.img,!1):void 0}),i},t.prototype.check=function(t,e){return this.checks[t](e)},t.prototype.insertImage=function(t,e){var n=this,i=$(new Image);i.load(function(){"img"===t?n.$el.attr("src",e):n.$el.css("background-image","url("+e+")"),Gumby.debug("Triggering onChange event",e,n.$el),n.$el.trigger("gumby.onChange",[e])}).attr("src",e)},t.prototype.parseAttr=function(t){var e=this,n=t.split(","),i=[],s=[];return $(n).each(function(t,n){return s=n.split("|"),2!==s.length?!0:(i.push({test:e.shorthand(s[0]),img:s[1]}),void 0)}),i},t.prototype.shorthand=function(t){return(t.indexOf(">")>-1||t.indexOf("<")>-1)&&(t=t.replace(">","min-width: ").replace("<","max-width: ")),t.indexOf("width")>-1&&"("!==t.charAt(0)&&")"!==t.charAt(t.length-1)&&(t="("+t+")"),t},Gumby.addInitalisation("images",function(e){$("[gumby-supports],[data-supports],[supports],[gumby-media],[data-media],[media]").each(function(){var n=$(this);return n.data("isImage")&&!e?!0:n.data("isImage")&&e?(n.trigger("gumby.initialize"),!0):(n.data("isImage",!0),new t(n),void 0)})}),Gumby.UIModule({module:"images",events:["onChange","trigger"],init:function(){Gumby.initialize("images")}})}(),!function(){"use strict";function t(t){Gumby.debug("Initializing Shuffle",t),this.$el=t,this.$children=[],this.children=[],this.shuffles=[],this.def="",this.current="";var e=this;this.setup(),$(window).on("load resize",function(){e.handleTests()}),this.$el.on("gumby.shuffle",function(){Gumby.debug("Shuffle event triggered",e.$el),e.handleTests()}).on("gumby.initialize",function(){Gumby.debug("Re-initializing shuffle module",e.$el),e.setup()}),e.handleTests()}t.prototype.setup=function(){this.$children=this.$el.children(Gumby.selectAttr.apply(this.$el,["children"])),this.children=$.makeArray(this.$children),this.shuffles=this.parseAttrValue(Gumby.selectAttr.apply(this.$el,["shuffle"])),this.def=this.defaultSequence(this.$children.length),this.current="default"},t.prototype.handleTests=function(){var t=this,e=!1;window.matchMedia&&$(this.shuffles).each(function(n,i){return window.matchMedia(i.test).matches?(t.current!==i.test&&(t.current=i.test,t.shuffle(i.sequence)),e=!0,!1):void 0}),e||"default"===this.current||(this.current="default",t.shuffle(this.def))},t.prototype.shuffle=function(t){var e=this,n=[],i=[];t?(n=t.split("-"),$(n).each(function(t){i.push($(e.children[Number(n[t])]))})):i=this.children,this.$children.remove(),$(i).each(function(){e.$el.append($(this))}),Gumby.debug("Children shuffled",i,e.$el),Gumby.debug("Triggering onShuffle event",this.$el),this.$el.trigger("gumby.onShuffle",[$(i)])},t.prototype.defaultSequence=function(t){var e="",n=0;for(n;t>n;n++)e+=n+"-";return e.substr(0,e.length-1)},t.prototype.parseAttrValue=function(t){var e=this,n=t.split(","),i=[],s=[];return $(n).each(function(t,n){return s=n.split("|"),2!==s.length?!0:(i.push({test:e.shorthand(s[0]),sequence:s[1]}),void 0)}),i},t.prototype.shorthand=function(t){return(t.indexOf(">")>-1||t.indexOf("<")>-1)&&(t=t.replace(">","min-width: ").replace("<","max-width: ")),"("!==t.charAt(0)&&")"!==t.charAt(t.length-1)&&(t="("+t+")"),t},Gumby.addInitalisation("shuffle",function(e){$("[data-shuffle],[gumby-shuffle],[shuffle]").each(function(){var n=$(this);return n.data("isShuffle")&&!e?!0:n.data("isShuffle")&&e?(n.trigger("gumby.initialize"),!0):(n.data("isShuffle",!0),new t(n),void 0)})}),Gumby.UIModule({module:"shuffle",events:["onShuffle","shuffle"],init:function(){Gumby.initialize("shuffle")}})}(),function(){function t(t,e){if(!e||"function"==typeof e)return t;for(var n in e)t[n]=e[n];return t}function e(t,n){for(var i in n)i in t?e(t[i],n[i]):t[i]=n[i];return t}function n(t,e,n){var i,s=0,r=t.length,a=void 0===r||"[object Array]"!==Object.prototype.toString.apply(t)||"function"==typeof t;if(n)if(a){for(i in t)if(e.apply(t[i],n)===!1)break}else for(;r>s&&e.apply(t[s++],n)!==!1;);else if(a){for(i in t)if(e.call(t[i],i,t[i])===!1)break}else for(;r>s&&e.call(t[s],s,t[s++])!==!1;);return t}function i(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return V[t]}):t}function s(t){var e=function(t){if(window.XMLHttpRequest)return t(null,new XMLHttpRequest);if(window.ActiveXObject)try{return t(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(e){return t(null,new ActiveXObject("Microsoft.XMLHTTP"))}return t(new Error)},n=function(t){if("string"==typeof t)return t;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},i=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e+=String.fromCharCode(i):i>127&&2048>i?(e+=String.fromCharCode(192|i>>6),e+=String.fromCharCode(128|63&i)):(e+=String.fromCharCode(224|i>>12),e+=String.fromCharCode(128|63&i>>6),e+=String.fromCharCode(128|63&i))}return e},s=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t=i(t);var n,s,r,a,o,u,l,c="",f=0;do n=t.charCodeAt(f++),s=t.charCodeAt(f++),r=t.charCodeAt(f++),a=n>>2,o=(3&n)<<4|s>>4,u=(15&s)<<2|r>>6,l=63&r,isNaN(s)?u=l=64:isNaN(r)&&(l=64),c+=e.charAt(a)+e.charAt(o)+e.charAt(u)+e.charAt(l),n=s=r="",a=o=u=l="";while(f<t.length);return c},r=function(){for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t},a=function(t,i,s,o){"function"==typeof s&&(o=s,s={}),s.cache=s.cache||!1,s.data=s.data||{},s.headers=s.headers||{},s.jsonp=s.jsonp||!1,s.async=void 0===s.async?!0:s.async;var u,l=r({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},a.headers,s.headers);if(u="application/json"===l["content-type"]?JSON.stringify(s.data):n(s.data),"GET"===t){var c=[];if(u&&(c.push(u),u=null),s.cache||c.push("_="+(new Date).getTime()),s.jsonp&&(c.push("callback="+s.jsonp),c.push("jsonp="+s.jsonp)),c=c.join("&"),c.length>1&&(i+=i.indexOf("?")>-1?"&"+c:"?"+c),s.jsonp){var f=document.getElementsByTagName("head")[0],h=document.createElement("script");return h.type="text/javascript",h.src=i,f.appendChild(h),void 0}}e(function(e,n){if(e)return o(e);n.open(t,i,s.async);for(var r in l)l.hasOwnProperty(r)&&n.setRequestHeader(r,l[r]);n.onreadystatechange=function(){if(4===n.readyState){var t=n.responseText||"";if(!o)return;o(n.status,{text:function(){return t},json:function(){try{return JSON.parse(t)}catch(e){return Q.error("Can not parse JSON. URL: "+i),{}}}})}},n.send(u)})},o={authBasic:function(t,e){a.headers.Authorization="Basic "+s(t+":"+e)},connect:function(t,e,n){return a("CONNECT",t,e,n)},del:function(t,e,n){return a("DELETE",t,e,n)},get:function(t,e,n){return a("GET",t,e,n)},head:function(t,e,n){return a("HEAD",t,e,n)},headers:function(t){a.headers=t||{}},isAllowed:function(t,e,n){this.options(t,function(t,i){n(-1!==i.text().indexOf(e))})},options:function(t,e,n){return a("OPTIONS",t,e,n)},patch:function(t,e,n){return a("PATCH",t,e,n)},post:function(t,e,n){return a("POST",t,e,n)},put:function(t,e,n){return a("PUT",t,e,n)},trace:function(t,e,n){return a("TRACE",t,e,n)}},u=t.type?t.type.toLowerCase():"get";o[u](t.url,t,function(e,n){200===e||0===e&&n.text()?t.success(n.json(),e,null):t.error(n.text(),e,null)})}function r(t,e){"function"==typeof t&&(e=t,t={}),t=t||{},Q.extend(D,t),delete D.fixLng,"string"==typeof D.ns&&(D.ns={namespaces:[D.ns],defaultNs:D.ns}),"string"==typeof D.fallbackNS&&(D.fallbackNS=[D.fallbackNS]),("string"==typeof D.fallbackLng||"boolean"==typeof D.fallbackLng)&&(D.fallbackLng=[D.fallbackLng]),D.interpolationPrefixEscaped=Q.regexEscape(D.interpolationPrefix),D.interpolationSuffixEscaped=Q.regexEscape(D.interpolationSuffix),D.lng||(D.lng=Q.detectLanguage()),E=Q.toLanguages(D.lng),P=E[0],Q.log("currentLng set to: "+P),D.useCookie&&Q.cookie.read(D.cookieName)!==P&&Q.cookie.create(D.cookieName,P,D.cookieExpirationTime,D.cookieDomain),D.detectLngFromLocalStorage&&"undefined"!=typeof document&&window.localStorage&&Q.localStorage.setItem("i18next_lng",P);var n=S;t.fixLng&&(n=function(t,e){return e=e||{},e.lng=e.lng||n.lng,S(t,e)},n.lng=P),q.setCurrentLng(P),A&&D.setJqueryExt&&b();var i;if(A&&A.Deferred&&(i=A.Deferred()),!D.resStore){var s=Q.toLanguages(D.lng);"string"==typeof D.preload&&(D.preload=[D.preload]);for(var r=0,a=D.preload.length;a>r;r++)for(var o=Q.toLanguages(D.preload[r]),u=0,l=o.length;l>u;u++)s.indexOf(o[u])<0&&s.push(o[u]);return I.sync.load(s,D,function(t,s){M=s,R=!0,e&&e(n),i&&i.resolve(n)}),i?i.promise():void 0}return M=D.resStore,R=!0,e&&e(n),i&&i.resolve(n),i?i.promise():void 0}function a(t,e){"string"==typeof t&&(t=[t]);for(var n=0,i=t.length;i>n;n++)D.preload.indexOf(t[n])<0&&D.preload.push(t[n]);return r(e)}function o(t,e,n,i){"string"!=typeof e?(n=e,e=D.ns.defaultNs):D.ns.namespaces.indexOf(e)<0&&D.ns.namespaces.push(e),M[t]=M[t]||{},M[t][e]=M[t][e]||{},i?Q.deepExtend(M[t][e],n):Q.extend(M[t][e],n)}function u(t,e){"string"!=typeof e&&(e=D.ns.defaultNs),M[t]=M[t]||{};var n=M[t][e]||{},i=!1;for(var s in n)n.hasOwnProperty(s)&&(i=!0);return i}function l(t,e){"string"!=typeof e&&(e=D.ns.defaultNs),M[t]=M[t]||{},M[t][e]={}}function c(t,e,n,i){"string"!=typeof e?(resource=e,e=D.ns.defaultNs):D.ns.namespaces.indexOf(e)<0&&D.ns.namespaces.push(e),M[t]=M[t]||{},M[t][e]=M[t][e]||{};for(var s=n.split(D.keyseparator),r=0,a=M[t][e];s[r];)r==s.length-1?a[s[r]]=i:(null==a[s[r]]&&(a[s[r]]={}),a=a[s[r]]),r++}function f(t,e,n){"string"!=typeof e?(resource=e,e=D.ns.defaultNs):D.ns.namespaces.indexOf(e)<0&&D.ns.namespaces.push(e);for(var i in n)"string"==typeof n[i]&&c(t,e,i,n[i])}function h(t){D.ns.defaultNs=t}function d(t,e){p([t],e)}function p(t,e){var n={dynamicLoad:D.dynamicLoad,resGetPath:D.resGetPath,getAsync:D.getAsync,customLoad:D.customLoad,ns:{namespaces:t,defaultNs:""}},i=Q.toLanguages(D.lng);"string"==typeof D.preload&&(D.preload=[D.preload]);for(var s=0,r=D.preload.length;r>s;s++)for(var a=Q.toLanguages(D.preload[s]),o=0,u=a.length;u>o;o++)i.indexOf(a[o])<0&&i.push(a[o]);for(var l=[],c=0,f=i.length;f>c;c++){var h=!1,d=M[i[c]];if(d)for(var p=0,g=t.length;g>p;p++)d[t[p]]||(h=!0);else h=!0;h&&l.push(i[c])}l.length?I.sync._fetch(l,n,function(n,i){var s=t.length*l.length;Q.each(t,function(t,n){D.ns.namespaces.indexOf(n)<0&&D.ns.namespaces.push(n),Q.each(l,function(t,r){M[r]=M[r]||{},M[r][n]=i[r][n],s--,0===s&&e&&(D.useLocalStorage&&I.sync._storeLocal(M),e())})})}):e&&e()}function g(t,e,n){return"function"==typeof e?(n=e,e={}):e||(e={}),e.lng=t,r(e,n)}function m(){return P}function y(t){M={},g(P,t)}function b(){function t(t,e,n){if(0!==e.length){var i="text";if(0===e.indexOf("[")){var s=e.split("]");e=s[1],i=s[0].substr(1,s[0].length-1)}e.indexOf(";")===e.length-1&&(e=e.substr(0,e.length-2));var r;if("html"===i)r=D.defaultValueFromContent?A.extend({defaultValue:t.html()},n):n,t.html(A.t(e,r));else if("text"===i)r=D.defaultValueFromContent?A.extend({defaultValue:t.text()},n):n,t.text(A.t(e,r));else if("prepend"===i)r=D.defaultValueFromContent?A.extend({defaultValue:t.html()},n):n,t.prepend(A.t(e,r));else if("append"===i)r=D.defaultValueFromContent?A.extend({defaultValue:t.html()},n):n,t.append(A.t(e,r));else if(0===i.indexOf("data-")){var a=i.substr("data-".length);r=D.defaultValueFromContent?A.extend({defaultValue:t.data(a)},n):n;var o=A.t(e,r);t.data(a,o),t.attr(i,o)}else r=D.defaultValueFromContent?A.extend({defaultValue:t.attr(i)},n):n,t.attr(i,A.t(e,r))}}function e(e,n){var i=e.attr(D.selectorAttr);if(i||"undefined"==typeof i||i===!1||(i=e.text()||e.val()),i){var s=e,r=e.data("i18n-target");if(r&&(s=e.find(r)||e),n||D.useDataAttrOptions!==!0||(n=e.data("i18n-options")),n=n||{},i.indexOf(";")>=0){var a=i.split(";");A.each(a,function(e,i){""!==i&&t(s,i,n)})}else t(s,i,n);D.useDataAttrOptions===!0&&e.data("i18n-options",n)}}A.t=A.t||S,A.fn.i18n=function(t){return this.each(function(){e(A(this),t);var n=A(this).find("["+D.selectorAttr+"]");n.each(function(){e(A(this),t)})})}}function v(t,e,n,i){if(!t)return t;if(i=i||e,t.indexOf(i.interpolationPrefix||D.interpolationPrefix)<0)return t;var s=i.interpolationPrefix?Q.regexEscape(i.interpolationPrefix):D.interpolationPrefixEscaped,r=i.interpolationSuffix?Q.regexEscape(i.interpolationSuffix):D.interpolationSuffixEscaped,a="HTML"+r,o=e.replace&&"object"==typeof e.replace?e.replace:e;return Q.each(o,function(e,o){var u=n?n+D.keyseparator+e:e;"object"==typeof o&&null!==o?t=v(t,o,u,i):i.escapeInterpolation||D.escapeInterpolation?(t=t.replace(new RegExp([s,u,a].join(""),"g"),Q.regexReplacementEscape(o)),t=t.replace(new RegExp([s,u,r].join(""),"g"),Q.regexReplacementEscape(Q.escape(o)))):t=t.replace(new RegExp([s,u,r].join(""),"g"),Q.regexReplacementEscape(o))
}),t}function x(t,e){var n=",",i="{",s="}",r=Q.extend({},e);for(delete r.postProcess;-1!=t.indexOf(D.reusePrefix)&&(z++,!(z>D.maxRecursion));){var a=t.lastIndexOf(D.reusePrefix),o=t.indexOf(D.reuseSuffix,a)+D.reuseSuffix.length,u=t.substring(a,o),l=u.replace(D.reusePrefix,"").replace(D.reuseSuffix,"");if(a>=o)return Q.error("there is an missing closing in following translation value",t),"";if(-1!=l.indexOf(n)){var c=l.indexOf(n);if(-1!=l.indexOf(i,c)&&-1!=l.indexOf(s,c)){var f=l.indexOf(i,c),h=l.indexOf(s,f)+s.length;try{r=Q.extend(r,JSON.parse(l.substring(f,h))),l=l.substring(0,c)}catch(d){}}}var p=N(l,r);t=t.replace(u,Q.regexReplacementEscape(p))}return t}function w(t){return t.context&&("string"==typeof t.context||"number"==typeof t.context)}function $(t){return void 0!==t.count&&"string"!=typeof t.count}function k(t){return void 0!==t.indefinite_article&&"string"!=typeof t.indefinite_article&&t.indefinite_article}function G(t,e){e=e||{};var n=T(t,e),i=O(t,e);return void 0!==i||i===n}function S(t,e){return e=e||{},R?(z=0,N.apply(null,arguments)):(Q.log("i18next not finished initialization. you might have called t function before loading resources finished."),e.defaultValue||"")}function T(t,e){return void 0!==e.defaultValue?e.defaultValue:t}function C(){for(var t=[],e=1;e<arguments.length;e++)t.push(arguments[e]);return{postProcess:"sprintf",sprintf:t}}function N(t,e){if(e&&"object"!=typeof e?"sprintf"===D.shortcutFunction?e=C.apply(null,arguments):"defaultValue"===D.shortcutFunction&&(e={defaultValue:e}):e=e||{},"object"==typeof D.defaultVariables&&(e=Q.extend({},D.defaultVariables,e)),void 0===t||null===t||""===t)return"";"string"==typeof t&&(t=[t]);var n=t[0];if(t.length>1)for(var i=0;i<t.length&&(n=t[i],!G(n,e));i++);var s,r=T(n,e),a=O(n,e),o=e.lng?Q.toLanguages(e.lng,e.fallbackLng):E,u=e.ns||D.ns.defaultNs;n.indexOf(D.nsseparator)>-1&&(s=n.split(D.nsseparator),u=s[0],n=s[1]),void 0===a&&D.sendMissing&&"function"==typeof D.missingKeyHandler&&(e.lng?D.missingKeyHandler(o[0],u,n,r,o):D.missingKeyHandler(D.lng,u,n,r,o));var l=e.postProcess||D.postProcess;void 0!==a&&l&&J[l]&&(a=J[l](a,n,e));var c=r;if(r.indexOf(D.nsseparator)>-1&&(s=r.split(D.nsseparator),c=s[1]),c===n&&D.parseMissingKey&&(r=D.parseMissingKey(r)),void 0===a&&(r=v(r,e),r=x(r,e),l&&J[l])){var f=T(n,e);a=J[l](f,n,e)}return void 0!==a?a:r}function O(t,e){e=e||{};var n,i,s=T(t,e),r=E;if(!M)return s;if("cimode"===r[0].toLowerCase())return s;if(e.lngs&&(r=e.lngs),e.lng&&(r=Q.toLanguages(e.lng,e.fallbackLng),!M[r[0]])){var a=D.getAsync;D.getAsync=!1,I.sync.load(r,D,function(t,e){Q.extend(M,e),D.getAsync=a})}var o=e.ns||D.ns.defaultNs;if(t.indexOf(D.nsseparator)>-1){var u=t.split(D.nsseparator);o=u[0],t=u[1]}if(w(e)){n=Q.extend({},e),delete n.context,n.defaultValue=D.contextNotFound;var l=o+D.nsseparator+t+"_"+e.context;if(i=S(l,n),i!=D.contextNotFound)return v(i,{context:e.context})}if($(e,r[0])){n=Q.extend({lngs:[r[0]]},e),delete n.count,n.defaultValue=D.pluralNotFound;var c;if(q.needsPlural(r[0],e.count)){c=o+D.nsseparator+t+D.pluralSuffix;var f=q.get(r[0],e.count);f>=0?c=c+"_"+f:1===f&&(c=o+D.nsseparator+t)}else c=o+D.nsseparator+t;if(i=S(c,n),i!=D.pluralNotFound)return v(i,{count:e.count,interpolationPrefix:e.interpolationPrefix,interpolationSuffix:e.interpolationSuffix});if(r.length>1){var h=r.slice();if(h.shift(),e=Q.extend(e,{lngs:h}),i=S(o+D.nsseparator+t,e),i!=D.pluralNotFound)return i}}if(k(e)){var d=Q.extend({},e);delete d.indefinite_article,d.defaultValue=D.indefiniteNotFound;var p=o+D.nsseparator+t+(e.count&&!$(e,r[0])||!e.count?D.indefiniteSuffix:"");if(i=S(p,d),i!=D.indefiniteNotFound)return i}for(var g,m=t.split(D.keyseparator),y=0,b=r.length;b>y&&void 0===g;y++){for(var G=r[y],C=0,L=M[G]&&M[G][o];m[C];)L=L&&L[m[C]],C++;if(void 0!==L){var P=Object.prototype.toString.apply(L);if("string"==typeof L)L=v(L,e),L=x(L,e);else if("[object Array]"!==P||D.returnObjectTrees||e.returnObjectTrees){if(null===L&&D.fallbackOnNull===!0)L=void 0;else if(null!==L)if(D.returnObjectTrees||e.returnObjectTrees){if("[object Number]"!==P&&"[object Function]"!==P&&"[object RegExp]"!==P){var j="[object Array]"===P?[]:{};Q.each(L,function(n){j[n]=N(o+D.nsseparator+t+D.keyseparator+n,e)}),L=j}}else D.objectTreeKeyHandler&&"function"==typeof D.objectTreeKeyHandler?L=D.objectTreeKeyHandler(t,L,G,o,e):(L="key '"+o+":"+t+" ("+G+")' "+"returned an object instead of string.",Q.log(L))}else L=L.join("\n"),L=v(L,e),L=x(L,e);"string"==typeof L&&""===L.trim()&&D.fallbackOnEmpty===!0&&(L=void 0),g=L}}if(void 0===g&&!e.isFallbackLookup&&(D.fallbackToDefaultNS===!0||D.fallbackNS&&D.fallbackNS.length>0)){if(e.isFallbackLookup=!0,D.fallbackNS.length){for(var A=0,z=D.fallbackNS.length;z>A;A++)if(g=O(D.fallbackNS[A]+D.nsseparator+t,e)){var R=g.indexOf(D.nsseparator)>-1?g.split(D.nsseparator)[1]:g,_=s.indexOf(D.nsseparator)>-1?s.split(D.nsseparator)[1]:s;if(R!==_)break}}else g=O(t,e);e.isFallbackLookup=!1}return g}function L(){var t,e=D.lngWhitelist||[],n=[];if("undefined"!=typeof window&&function(){for(var t=window.location.search.substring(1),e=t.split("&"),i=0;i<e.length;i++){var s=e[i].indexOf("=");if(s>0){var r=e[i].substring(0,s);r==D.detectLngQS&&n.push(e[i].substring(s+1))}}}(),D.useCookie&&"undefined"!=typeof document){var i=Q.cookie.read(D.cookieName);i&&n.push(i)}if(D.detectLngFromLocalStorage&&"undefined"!=typeof window&&window.localStorage&&n.push(window.localStorage.getItem("i18next_lng")),"undefined"!=typeof navigator){if(navigator.languages)for(var s=0;s<navigator.languages.length;s++)n.push(navigator.languages[s]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return function(){for(var i=0;i<n.length;i++){var s=n[i];if(s.indexOf("-")>-1){var r=s.split("-");s=D.lowerCaseLng?r[0].toLowerCase()+"-"+r[1].toLowerCase():r[0].toLowerCase()+"-"+r[1].toUpperCase()}if(0===e.length||e.indexOf(s)>-1){t=s;break}}}(),t||(t=D.fallbackLng[0]),t}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var s=i>=0?i:Math.max(n-Math.abs(i),0);n>s;s++)if(s in e&&e[s]===t)return s;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=n;arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&i!=1/0&&i!=-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i))));for(var s=i>=0?Math.min(i,n-1):n-Math.abs(i);s>=0;s--)if(s in e&&e[s]===t)return s;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var P,j=this,A=j.jQuery||j.Zepto,I={},M={},z=0,E=[],R=!1,_={};if("undefined"!=typeof module&&module.exports){if(!A)try{A=require("jquery")}catch(F){}A&&(A.i18n=A.i18n||I),module.exports=I}else A&&(A.i18n=A.i18n||I),j.i18n=j.i18n||I;_={load:function(t,e,n){e.useLocalStorage?_._loadLocal(t,e,function(i,s){for(var r=[],a=0,o=t.length;o>a;a++)s[t[a]]||r.push(t[a]);r.length>0?_._fetch(r,e,function(t,e){Q.extend(s,e),_._storeLocal(e),n(null,s)}):n(null,s)}):_._fetch(t,e,function(t,e){n(null,e)})},_loadLocal:function(t,e,n){var i={},s=(new Date).getTime();if(window.localStorage){var r=t.length;Q.each(t,function(t,a){var o=window.localStorage.getItem("res_"+a);o&&(o=JSON.parse(o),o.i18nStamp&&o.i18nStamp+e.localStorageExpirationTime>s&&(i[a]=o)),r--,0===r&&n(null,i)})}},_storeLocal:function(t){if(window.localStorage)for(var e in t)t[e].i18nStamp=(new Date).getTime(),Q.localStorage.setItem("res_"+e,JSON.stringify(t[e]))},_fetch:function(t,e,n){var i=e.ns,s={};if(e.dynamicLoad){var r=function(t,e){n(null,e)};if("function"==typeof e.customLoad)e.customLoad(t,i.namespaces,e,r);else{var a=v(e.resGetPath,{lng:t.join("+"),ns:i.namespaces.join("+")});Q.ajax({url:a,success:function(t){Q.log("loaded: "+a),r(null,t)},error:function(t,e,n){Q.log("failed loading: "+a),r("failed loading resource.json error: "+n)},dataType:"json",async:e.getAsync})}}else{var o,u=i.namespaces.length*t.length;Q.each(i.namespaces,function(i,r){Q.each(t,function(t,i){var a=function(t,e){t&&(o=o||[],o.push(t)),s[i]=s[i]||{},s[i][r]=e,u--,0===u&&n(o,s)};"function"==typeof e.customLoad?e.customLoad(i,r,e,a):_._fetchOne(i,r,e,a)})})}},_fetchOne:function(t,e,n,i){var s=v(n.resGetPath,{lng:t,ns:e});Q.ajax({url:s,success:function(t){Q.log("loaded: "+s),i(null,t)},error:function(t,e,n){if(e&&200==e||t&&t.status&&200==t.status)Q.error("There is a typo in: "+s);else if(e&&404==e||t&&t.status&&404==t.status)Q.log("Does not exist: "+s);else{var r=e?e:t&&t.status?t.status:null;Q.log(r+" when loading "+s)}i(n,{})},dataType:"json",async:n.getAsync})},postMissing:function(t,e,n,i,s){var r={};r[n]=i;var a=[];if("fallback"===D.sendMissingTo&&D.fallbackLng[0]!==!1)for(var o=0;o<D.fallbackLng.length;o++)a.push({lng:D.fallbackLng[o],url:v(D.resPostPath,{lng:D.fallbackLng[o],ns:e})});else if("current"===D.sendMissingTo||"fallback"===D.sendMissingTo&&D.fallbackLng[0]===!1)a.push({lng:t,url:v(D.resPostPath,{lng:t,ns:e})});else if("all"===D.sendMissingTo)for(var o=0,u=s.length;u>o;o++)a.push({lng:s[o],url:v(D.resPostPath,{lng:s[o],ns:e})});for(var l=0,c=a.length;c>l;l++){var f=a[l];Q.ajax({url:f.url,type:D.sendType,data:r,success:function(){Q.log("posted missing key '"+n+"' to: "+f.url);for(var t=n.split("."),s=0,r=M[f.lng][e];t[s];)r=r[t[s]]=s===t.length-1?i:r[t[s]]||{},s++},error:function(){Q.log("failed posting missing key '"+n+"' to: "+f.url)},dataType:"json",async:D.postAsync})}},reload:y};var D={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",detectLngFromLocalStorage:!1,ns:"translation",fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",defaultVariables:!1,reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,indefiniteSuffix:"_indefinite",indefiniteNotFound:["indefinite_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,missingKeyHandler:_.postMissing,shortcutFunction:"sprintf"},V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},U={create:function(t,e,n,i){var s;if(n){var r=new Date;r.setTime(r.getTime()+1e3*60*n),s="; expires="+r.toGMTString()}else s="";i=i?"domain="+i+";":"",document.cookie=t+"="+e+s+";"+i+"path=/"},read:function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var s=n[i];" "==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(e))return s.substring(e.length,s.length)}return null},remove:function(t){this.create(t,"",-1)}},B={create:function(){},read:function(){return null},remove:function(){}},Q={extend:A?A.extend:t,deepExtend:e,each:A?A.each:n,ajax:A?A.ajax:"undefined"!=typeof document?s:function(){},cookie:"undefined"!=typeof document?U:B,detectLanguage:L,escape:i,log:function(t){D.debug&&"undefined"!=typeof console&&console.log(t)},error:function(t){"undefined"!=typeof console&&console.error(t)},getCountyIndexOfLng:function(t){var e=0;return("nb-NO"===t||"nn-NO"===t||"nb-no"===t||"nn-no"===t)&&(e=1),e},toLanguages:function(t){function e(t){var e=t;if("string"==typeof t&&t.indexOf("-")>-1){var n=t.split("-");e=D.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase()}else e=D.lowerCaseLng?t.toLowerCase():t;return e}var n=this.log,i=[],s=D.lngWhitelist||!1,r=function(t){!s||s.indexOf(t)>-1?i.push(t):n("rejecting non-whitelisted language: "+t)};if("string"==typeof t&&t.indexOf("-")>-1){var a=t.split("-");"unspecific"!==D.load&&r(e(t)),"current"!==D.load&&r(e(a[this.getCountyIndexOfLng(t)]))}else r(e(t));for(var o=0;o<D.fallbackLng.length;o++)-1===i.indexOf(D.fallbackLng[o])&&D.fallbackLng[o]&&i.push(e(D.fallbackLng[o]));return i},regexEscape:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexReplacementEscape:function(t){return"string"==typeof t?t.replace(/\$/g,"$$$$"):t},localStorage:{setItem:function(t,e){if(window.localStorage)try{window.localStorage.setItem(t,e)}catch(n){Q.log('failed to set value for key "'+t+'" to localStorage.')}}}};Q.applyReplacement=v;var H=[["ach","Acholi",[1,2],1],["af","Afrikaans",[1,2],2],["ak","Akan",[1,2],1],["am","Amharic",[1,2],1],["an","Aragonese",[1,2],2],["ar","Arabic",[0,1,2,3,11,100],5],["arn","Mapudungun",[1,2],1],["ast","Asturian",[1,2],2],["ay","AymarÃ¡",[1],3],["az","Azerbaijani",[1,2],2],["be","Belarusian",[1,2,5],4],["bg","Bulgarian",[1,2],2],["bn","Bengali",[1,2],2],["bo","Tibetan",[1],3],["br","Breton",[1,2],1],["bs","Bosnian",[1,2,5],4],["ca","Catalan",[1,2],2],["cgg","Chiga",[1],3],["cs","Czech",[1,2,5],6],["csb","Kashubian",[1,2,5],7],["cy","Welsh",[1,2,3,8],8],["da","Danish",[1,2],2],["de","German",[1,2],2],["dev","Development Fallback",[1,2],2],["dz","Dzongkha",[1],3],["el","Greek",[1,2],2],["en","English",[1,2],2],["eo","Esperanto",[1,2],2],["es","Spanish",[1,2],2],["es_ar","Argentinean Spanish",[1,2],2],["et","Estonian",[1,2],2],["eu","Basque",[1,2],2],["fa","Persian",[1],3],["fi","Finnish",[1,2],2],["fil","Filipino",[1,2],1],["fo","Faroese",[1,2],2],["fr","French",[1,2],9],["fur","Friulian",[1,2],2],["fy","Frisian",[1,2],2],["ga","Irish",[1,2,3,7,11],10],["gd","Scottish Gaelic",[1,2,3,20],11],["gl","Galician",[1,2],2],["gu","Gujarati",[1,2],2],["gun","Gun",[1,2],1],["ha","Hausa",[1,2],2],["he","Hebrew",[1,2],2],["hi","Hindi",[1,2],2],["hr","Croatian",[1,2,5],4],["hu","Hungarian",[1,2],2],["hy","Armenian",[1,2],2],["ia","Interlingua",[1,2],2],["id","Indonesian",[1],3],["is","Icelandic",[1,2],12],["it","Italian",[1,2],2],["ja","Japanese",[1],3],["jbo","Lojban",[1],3],["jv","Javanese",[0,1],13],["ka","Georgian",[1],3],["kk","Kazakh",[1],3],["km","Khmer",[1],3],["kn","Kannada",[1,2],2],["ko","Korean",[1],3],["ku","Kurdish",[1,2],2],["kw","Cornish",[1,2,3,4],14],["ky","Kyrgyz",[1],3],["lb","Letzeburgesch",[1,2],2],["ln","Lingala",[1,2],1],["lo","Lao",[1],3],["lt","Lithuanian",[1,2,10],15],["lv","Latvian",[1,2,0],16],["mai","Maithili",[1,2],2],["mfe","Mauritian Creole",[1,2],1],["mg","Malagasy",[1,2],1],["mi","Maori",[1,2],1],["mk","Macedonian",[1,2],17],["ml","Malayalam",[1,2],2],["mn","Mongolian",[1,2],2],["mnk","Mandinka",[0,1,2],18],["mr","Marathi",[1,2],2],["ms","Malay",[1],3],["mt","Maltese",[1,2,11,20],19],["nah","Nahuatl",[1,2],2],["nap","Neapolitan",[1,2],2],["nb","Norwegian Bokmal",[1,2],2],["ne","Nepali",[1,2],2],["nl","Dutch",[1,2],2],["nn","Norwegian Nynorsk",[1,2],2],["no","Norwegian",[1,2],2],["nso","Northern Sotho",[1,2],2],["oc","Occitan",[1,2],1],["or","Oriya",[2,1],2],["pa","Punjabi",[1,2],2],["pap","Papiamento",[1,2],2],["pl","Polish",[1,2,5],7],["pms","Piemontese",[1,2],2],["ps","Pashto",[1,2],2],["pt","Portuguese",[1,2],2],["pt_br","Brazilian Portuguese",[1,2],2],["rm","Romansh",[1,2],2],["ro","Romanian",[1,2,20],20],["ru","Russian",[1,2,5],4],["sah","Yakut",[1],3],["sco","Scots",[1,2],2],["se","Northern Sami",[1,2],2],["si","Sinhala",[1,2],2],["sk","Slovak",[1,2,5],6],["sl","Slovenian",[5,1,2,3],21],["so","Somali",[1,2],2],["son","Songhay",[1,2],2],["sq","Albanian",[1,2],2],["sr","Serbian",[1,2,5],4],["su","Sundanese",[1],3],["sv","Swedish",[1,2],2],["sw","Swahili",[1,2],2],["ta","Tamil",[1,2],2],["te","Telugu",[1,2],2],["tg","Tajik",[1,2],1],["th","Thai",[1],3],["ti","Tigrinya",[1,2],1],["tk","Turkmen",[1,2],2],["tr","Turkish",[1,2],1],["tt","Tatar",[1],3],["ug","Uyghur",[1],3],["uk","Ukrainian",[1,2,5],4],["ur","Urdu",[1,2],2],["uz","Uzbek",[1,2],1],["vi","Vietnamese",[1],3],["wa","Walloon",[1,2],1],["wo","Wolof",[1],3],["yo","Yoruba",[1,2],2],["zh","Chinese",[1],3]],K={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(){return 0},4:function(t){return Number(1==t%10&&11!=t%100?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&10>=t%100?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&4>=t?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:7>t?2:11>t?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&20>t?2:3)},12:function(t){return Number(1!=t%10||11==t%100)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(1==t%10&&11!=t%100?0:t%10>=2&&(10>t%100||t%100>=20)?1:2)},16:function(t){return Number(1==t%10&&11!=t%100?0:0!==t?1:2)},17:function(t){return Number(1==t||1==t%10?0:1)},18:function(t){return Number(1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&11>t%100?1:t%100>10&&20>t%100?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&20>t%100?1:2)},21:function(t){return Number(1==t%100?1:2==t%100?2:3==t%100||4==t%100?3:0)}},q={rules:function(){var t,e={};for(t=H.length;t--;)e[H[t][0]]={name:H[t][1],numbers:H[t][2],plurals:K[H[t][3]]};return e}(),addRule:function(t,e){q.rules[t]=e},setCurrentLng:function(t){if(!q.currentRule||q.currentRule.lng!==t){var e=t.split("-");q.currentRule={lng:t,rule:q.rules[e[0]]}}},needsPlural:function(t,e){var n,i=t.split("-");return n=q.currentRule&&q.currentRule.lng===t?q.currentRule.rule:q.rules[i[Q.getCountyIndexOfLng(t)]],n&&n.numbers.length<=1?!1:1!==this.get(t,e)},get:function(t,e){function n(e,n){var i;if(i=q.currentRule&&q.currentRule.lng===t?q.currentRule.rule:q.rules[e]){var s;s=i.noAbs?i.plurals(n):i.plurals(Math.abs(n));var r=i.numbers[s];return 2===i.numbers.length&&1===i.numbers[0]&&(2===r?r=-1:1===r&&(r=1)),r}return 1===n?"1":"-1"}var i=t.split("-");return n(i[Q.getCountyIndexOfLng(t)],e)}},J={},W=function(t,e){J[t]=e},X=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function e(t,e){for(var n=[];e>0;n[--e]=t);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var s,r,a,o,u,l,c,f=1,h=n.length,d="",p=[];for(r=0;h>r;r++)if(d=t(n[r]),"string"===d)p.push(n[r]);else if("array"===d){if(o=n[r],o[2])for(s=i[f],a=0;a<o[2].length;a++){if(!s.hasOwnProperty(o[2][a]))throw X('[sprintf] property "%s" does not exist',o[2][a]);s=s[o[2][a]]}else s=o[1]?i[o[1]]:i[f++];if(/[^s]/.test(o[8])&&"number"!=t(s))throw X("[sprintf] expecting number but found %s",t(s));switch(o[8]){case"b":s=s.toString(2);break;case"c":s=String.fromCharCode(s);break;case"d":s=parseInt(s,10);break;case"e":s=o[7]?s.toExponential(o[7]):s.toExponential();break;case"f":s=o[7]?parseFloat(s).toFixed(o[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=String(s))&&o[7]?s.substring(0,o[7]):s;break;case"u":s=Math.abs(s);break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}s=/[def]/.test(o[8])&&o[3]&&s>=0?"+"+s:s,l=o[4]?"0"==o[4]?"0":o[4].charAt(1):" ",c=o[6]-String(s).length,u=o[6]?e(l,c):"",p.push(o[5]?s+u:u+s)}return p.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],i=[],s=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw"[sprintf] huh?";if(n[2]){s|=1;var r=[],a=n[2],o=[];if(null===(o=/^([a-z_][a-z_\d]*)/i.exec(a)))throw"[sprintf] huh?";for(r.push(o[1]);""!==(a=a.substring(o[0].length));)if(null!==(o=/^\.([a-z_][a-z_\d]*)/i.exec(a)))r.push(o[1]);else{if(null===(o=/^\[(\d+)\]/.exec(a)))throw"[sprintf] huh?";r.push(o[1])}n[2]=r}else s|=2;if(3===s)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";i.push(n)}e=e.substring(n[0].length)}return i},n}(),Y=function(t,e){return e.unshift(t),X.apply(null,e)};W("sprintf",function(t,e,n){return n.sprintf?"[object Array]"===Object.prototype.toString.apply(n.sprintf)?Y(t,n.sprintf):"object"==typeof n.sprintf?X(t,n.sprintf):t:t}),I.init=r,I.setLng=g,I.preload=a,I.addResourceBundle=o,I.hasResourceBundle=u,I.addResource=c,I.addResources=f,I.removeResourceBundle=l,I.loadNamespace=d,I.loadNamespaces=p,I.setDefaultNamespace=h,I.t=S,I.translate=S,I.exists=G,I.detectLanguage=Q.detectLanguage,I.pluralExtensions=q,I.sync=_,I.functions=Q,I.lng=m,I.addPostProcessor=W,I.options=D}(),!function(t){"use strict";Gumby.touchDevice&&Gumby.touchEvents||!Gumby.autoInit?Gumby.touchEvents&&Gumby.touchDevice&&(Gumby.debug("Loading jQuery mobile touch events"),yepnope.errorTimeout=2e3,Modernizr.load({test:Modernizr.touch,yep:Gumby.touchEvents+"/jquery.mobile.custom.min.js",complete:function(){t.mobile||Gumby.error("Error loading jQuery mobile touch events"),Gumby.touchEventsLoaded=!0,Gumby.autoInit?window.Gumby.init():Gumby.uiModulesReady&&Gumby.helpers()}})):window.Gumby.init(),"function"==typeof define&&define.amd&&define(window.Gumby)}(jQuery);